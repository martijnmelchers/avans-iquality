<div *ngIf="chatService.selected"  ibmGrid style="overflow: hidden;">
  <div ibmRow>
    <div ibmCol>
      <ibm-icon-close size="32" [routerLink]="['/chat']"></ibm-icon-close>
    </div>
  </div>

  <div ibmRow>
    <div ibmCol>
      <div  ibmGrid style="overflow: hidden; height: 100%; margin-bottom: 20%">
        <div (load)="onChatLoaded()" #chatScroll *ngFor="let message of chatService.messages" [gutter]="false"  ibmRow>
          <div ibmCol>
            <app-message [message]="message"></app-message>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div ibmRow class="type-bar">
    <form (ngSubmit)="onSubmit(null)" [formGroup]="messageFormGroup">
      <div ibmCol [columnNumbers]="{'md': 2, 'sm': 2}">
        <ibm-toggle
          offText="Bot"
          onText="Bot"
          (click)="onChatToggle(chatService.chatWithBot)"
          [(checked)]="chatService.chatWithBot">
        </ibm-toggle>
      </div>
      <div ibmCol [columnNumbers]="{'md': 2, 'sm': 2}">
        <ibm-label (keyup.enter)="onSubmit($event)">
          <input aria-label="textarea" formControlName="message"
                 ibmTextArea
                 placeholder="Messages"/>
        </ibm-label>
      </div>
      <div ibmCol [columnNumbers]="{'md': 2, 'sm': 2}">
        <button class="button" type="submit">
          <ibm-icon-send-alt size="32"></ibm-icon-send-alt>
        </button>
      </div>
    </form>

  </div>
</div>
